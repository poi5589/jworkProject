<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="employeeMapper">

	<resultMap id="employeeResult" type="Employee">
		<id column="emp_no" property="empNo" />
		<result column="emp_pwd" property="empPwd"></result>
		<result column="emp_name" property="empName"></result>
		<result column="gender" property="gender"></result>
		<result column="phone" property="phone"></result>
		<result column="email" property="email"></result>
		<result column="birth" property="birth"></result>
		<result column="dept_name" property="deptName"></result>
		<result column="team_name" property="teamName"></result>
		<result column="job_name" property="jobName"></result>
		<result column="emp_phone" property="empPhone"></result>
		<result column="enroll_date" property="enrollDate"></result>
		<result column="resign_date" property="resignDate"></result>
		<result column="modify_date" property="modifyDate"></result>
		<result column="profile_url" property="profileUrl"></result>
		<result column="task" property="task"></result>
		<result column="status" property="status"></result>
		<result column="account_status" property="accountStatus"></result>
	</resultMap>

	<select id="loginEmployee" resultMap="employeeResult">
		select
			   emp_no
			 , emp_pwd
			 , emp_name
			 , gender
			 , phone
			 , email
			 , birth
			 , dept_name
			 , team_name
			 , job_name
			 , emp_phone
			 , enroll_date
			 , resign_date
			 , modify_date
			 , profile_url
			 , task
			 , e.status
			 , account_status
		  from employee e
          left join department d on (e.dept_code = d.dept_code)
          left join team t on (e.team_code = t.team_code)
          left join job j on (e.job_code = j.job_code)
		 where e.status = 'Y'
		   and account_status = 'Y'
		   and emp_no = #{empNo}
	</select>



</mapper>
